<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜Ÿé™…å·¥æ—¶æ—¥å¿— - 9æœˆç‰¹è¾‘</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
    <!-- ä¿®æ­£Orbitronå­—ä½“åŠ è½½ -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- é…ç½®Tailwindè‡ªå®šä¹‰é¢œè‰²å’Œå­—ä½“ï¼ˆæ˜Ÿé™…æ¢é™©ä¸»é¢˜ï¼‰ -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'space-blue': '#1E40AF',
                        'nebula-purple': '#7C3AED',
                        'star-yellow': '#FBBF24',
                        'comet-gray': '#64748B',
                        'void-black': '#0F172A',
                        'galaxy-dark': '#1E293B',
                        'orbit-light': '#94A3B8'
                    },
                    fontFamily: {
                        'space': ['"Orbitron"', 'sans-serif', 'Arial'],
                        'sans': ['Inter', 'system-ui', 'sans-serif']
                    },
                    animation: {
                        'float-star': 'float-star 8s ease-in-out infinite',
                        'pulse-orb': 'pulse 5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'glow-ship': 'glow-ship 3s ease-in-out infinite alternate',
                        'spin-planet': 'spin 20s linear infinite',
                    },
                    keyframes: {
                        'float-star': {
                            '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
                            '50%': { transform: 'translateY(-15px) rotate(5deg)' },
                        },
                        'glow-ship': {
                            '0%': { boxShadow: '0 0 8px rgba(30, 64, 175, 0.6), 0 0 15px rgba(30, 64, 175, 0.4)' },
                            '100%': { boxShadow: '0 0 15px rgba(30, 64, 175, 0.9), 0 0 30px rgba(30, 64, 175, 0.6), 0 0 45px rgba(30, 64, 175, 0.3)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- è‡ªå®šä¹‰å·¥å…·ç±» -->
    <style type="text/tailwindcss">
        @layer utilities {
            .text-shadow-space {
                text-shadow: 0 0 6px rgba(30, 64, 175, 0.8), 0 0 12px rgba(30, 64, 175, 0.5);
            }
            .text-shadow-nebula {
                text-shadow: 0 0 6px rgba(124, 58, 237, 0.8), 0 0 12px rgba(124, 58, 237, 0.5);
            }
            .text-shadow-star {
                text-shadow: 0 0 6px rgba(251, 191, 36, 0.8), 0 0 12px rgba(251, 191, 36, 0.5);
            }
            .bg-nebula {
                background-image: 
                    linear-gradient(rgba(30, 64, 175, 0.08) 1px, transparent 1px),
                    linear-gradient(90deg, rgba(30, 64, 175, 0.08) 1px, transparent 1px);
                background-size: 25px 25px;
            }
            .glow-border-space {
                box-shadow: 0 0 6px rgba(30, 64, 175, 0.6), 0 0 12px rgba(30, 64, 175, 0.4);
            }
            .glow-border-nebula {
                box-shadow: 0 0 6px rgba(124, 58, 237, 0.6), 0 0 12px rgba(124, 58, 237, 0.4);
            }
            .glow-border-star {
                box-shadow: 0 0 6px rgba(251, 191, 36, 0.6), 0 0 12px rgba(251, 191, 36, 0.4);
            }
        }
    </style>
    
    <style>
        /* åŸºç¡€æ ·å¼ */
        body {
            background-color: #0F172A;
            color: #ffffff;
            overflow-x: hidden;
            background-image: url('https://picsum.photos/id/1040/1920/1080'); /* æ˜Ÿäº‘èƒŒæ™¯å›¾ */
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #1E293B;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #1E40AF;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #7C3AED;
        }
        
        /* å›¾ç‰‡æŠ–åŠ¨åŠ¨ç”»ï¼ˆæ‰€æœ‰çŠ¶æ€ç»Ÿä¸€æ•ˆæœï¼‰ */
        @keyframes imgShake {
            0% { transform: translateX(0); }
            20% { transform: translateX(-8px); }
            40% { transform: translateX(8px); }
            60% { transform: translateX(-6px); }
            80% { transform: translateX(6px); }
            100% { transform: translateX(0); }
        }
        .shake-active {
            animation: imgShake 0.8s ease-in-out 1; /* ç»Ÿä¸€0.8ç§’å•æ¬¡æŠ–åŠ¨ */
        }
        
        /* åŠ¨ç”»æ•ˆæœ */
        .animate-on-scroll {
            opacity: 0;
            transform: translateY(25px);
            transition: opacity 0.7s ease-out, transform 0.7s ease-out;
        }
        
        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* å®‡èˆªå‘˜å¼¹çª—èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ */
        .modal-backdrop {
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            background-color: rgba(15, 23, 42, 0.7);
        }
        
        /* è¡¨æ ¼å•å…ƒæ ¼åŠ¨ç”» */
        .table-cell {
            transition: all 0.3s ease;
        }
        
        .table-cell:hover {
            transform: scale(1.05);
            background-color: rgba(30, 64, 175, 0.1);
            border-radius: 4px;
        }
        
        /* æœç´¢æ¡†åŠ¨ç”» */
        .search-input:focus {
            box-shadow: 0 0 12px rgba(30, 64, 175, 0.9), 0 0 24px rgba(30, 64, 175, 0.6);
        }
        
        /* è¡Œæ˜Ÿæ—‹è½¬åŠ¨ç”» */
        .planet {
            border-radius: 50%;
            background: radial-gradient(circle, #FBBF24 0%, #F59E0B 100%);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.8);
            position: absolute;
            z-index: 0;
        }
    </style>
</head>
<body class="bg-void-black bg-nebula min-h-screen">
    <!-- è¡Œæ˜Ÿè£…é¥°å…ƒç´  -->
    <div class="planet w-24 h-24 top-20 right-10 animate-spin-planet hidden lg:block"></div>
    <div class="planet w-16 h-16 bottom-40 left-10 animate-spin-planet" style="animation-duration: 25s; background: radial-gradient(circle, #1E40AF 0%, #0C4A6E 100%); box-shadow: 0 0 15px rgba(30, 64, 175, 0.8);"></div>

    <!-- é¡¶éƒ¨å¯¼èˆªï¼ˆæ˜Ÿé™…é£èˆ¹æ§åˆ¶å°é£æ ¼ï¼‰ -->
    <header class="relative z-10 border-b border-space-blue/40 bg-void-black/90 backdrop-blur-sm sticky top-0">
        <div class="container mx-auto px-4 py-4 flex flex-col md:flex-row justify-between items-center">
            <div class="flex items-center mb-4 md:mb-0">
                <div class="w-12 h-12 rounded-full bg-space-blue/20 animate-pulse-orb mr-3 flex items-center justify-center">
                    <i class="fa fa-rocket text-space-blue text-2xl transform rotate-45"></i>
                </div>
                <h1 class="text-2xl md:text-3xl font-space text-space-blue text-shadow-space">
                    æ˜Ÿé™…å·¥æ—¶æ—¥å¿— 9.0
                </h1>
            </div>
            
            <div class="flex items-center space-x-4">
                <div class="relative hidden md:block">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                        <i class="fa fa-search text-space-blue/70"></i>
                    </span>
                    <input type="text" id="globalSearch" placeholder="æœç´¢æ˜Ÿé™…å‘˜å·¥..." 
                           class="bg-galaxy-dark border border-space-blue/40 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:border-space-blue transition-all w-56 lg:w-72 text-white search-input">
                </div>
                
                <button class="bg-galaxy-dark hover:bg-orbit-light/20 border border-nebula/60 text-nebula py-2 px-5 rounded-full text-sm transition-all hover:glow-border-nebula flex items-center" id="resetBtn">
                    <i class="fa fa-refresh mr-2"></i> é‡ç½®æ—¥å¿—
                </button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 relative z-10">
        <!-- é¡µé¢æ ‡é¢˜å’Œç®€ä»‹ï¼ˆæ˜Ÿé™…ä»»åŠ¡è¯´æ˜ï¼‰ -->
        <section class="mb-12 animate-on-scroll">
            <div class="text-center max-w-3xl mx-auto">
                <h2 class="text-[clamp(1.8rem,5vw,3rem)] font-space text-star-yellow text-shadow-star mb-4">
                    9æœˆæ˜Ÿé™…å‘˜å·¥å·¥æ—¶ç³»ç»Ÿ
                </h2>
                <p class="text-orbit-light text-lg mb-6">
                    æ¬¢è¿æ¥åˆ°9æœˆæ˜Ÿé™…å·¥æ—¶æ§åˆ¶å°ï¼æœ¬æœˆæ ‡å‡†å·¥æ—¶176å°æ—¶ï¼Œè¯·ç¡®ä¿ä½ çš„ä»»åŠ¡æ—¶é•¿è¾¾æ ‡ï¼Œé¿å…è¢«åˆ†é…åˆ°å°è¡Œæ˜Ÿé‡‡çŸ¿ä»»åŠ¡ã€‚
                </p>
                
                <!-- ç§»åŠ¨ç«¯æœç´¢æ¡† -->
                <div class="relative md:hidden mb-6">
                    <span class="absolute inset-y-0 left-0 flex items-center pl-3">
                        <i class="fa fa-search text-space-blue/70"></i>
                    </span>
                    <input type="text" id="mobileSearch" placeholder="æœç´¢å‘˜å·¥ä»£å·..." 
                           class="bg-galaxy-dark border border-space-blue/40 rounded-full py-2 pl-10 pr-4 text-sm focus:outline-none focus:border-space-blue transition-all w-full text-white search-input">
                </div>
            </div>
        </section>

        <!-- æ•°æ®æ¦‚è§ˆå’Œå›¾è¡¨ï¼ˆæ˜Ÿé™…ä»ªè¡¨ç›˜é£æ ¼ï¼‰ -->
        <section class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-12">
            <!-- ç»Ÿè®¡å¡ç‰‡ï¼ˆæ˜Ÿé™…æ•°æ®æ¨¡å—ï¼‰ -->
            <div class="lg:col-span-1 space-y-6">
                <div class="bg-galaxy-dark rounded-xl p-6 border border-space-blue/30 animate-on-scroll glow-border-space hover:scale-[1.02] transition-transform">
                    <h3 class="text-space-blue text-xl mb-4 flex items-center">
                        <i class="fa fa-users mr-2"></i> æ˜Ÿé™…å‘˜å·¥æ€»æ•°
                    </h3>
                    <p class="text-4xl font-bold text-white" id="totalEmployees">0</p>
                    <p class="text-orbit-light text-sm mt-2">å½“å‰åœ¨å½¹æ˜Ÿé™…å·¥ä½œè€…</p>
                </div>
                
                <div class="bg-galaxy-dark rounded-xl p-6 border border-nebula/30 animate-on-scroll glow-border-nebula hover:scale-[1.02] transition-transform" style="animation-delay: 0.2s">
                    <h3 class="text-nebula text-xl mb-4 flex items-center">
                        <i class="fa fa-check-circle mr-2"></i> å·¥æ—¶è¾¾æ ‡è€…
                    </h3>
                    <p class="text-4xl font-bold text-white" id="è¾¾æ ‡å‘˜å·¥æ•°">0</p>
                    <p class="text-orbit-light text-sm mt-2">ç¬¦åˆæ˜Ÿé™…ä»»åŠ¡æ ‡å‡†</p>
                </div>
                
                <div class="bg-galaxy-dark rounded-xl p-6 border border-star-yellow/30 animate-on-scroll glow-border-star hover:scale-[1.02] transition-transform" style="animation-delay: 0.4s">
                    <h3 class="text-star-yellow text-xl mb-4 flex items-center">
                        <i class="fa fa-exclamation-triangle mr-2"></i> å¾…è¡¥å·¥æ—¶è€…
                    </h3>
                    <p class="text-4xl font-bold text-white" id="å¼‚å¸¸å‘˜å·¥æ•°">0</p>
                    <p class="text-orbit-light text-sm mt-2">éœ€è¡¥å……ä»»åŠ¡æ—¶é•¿</p>
                </div>
            </div>
            
            <!-- å›¾è¡¨ï¼ˆæ˜Ÿé™…æ•°æ®å¯è§†åŒ–ï¼‰ -->
            <div class="lg:col-span-2 bg-galaxy-dark rounded-xl p-6 border border-space-blue/30 animate-on-scroll">
                <h3 class="text-space-blue text-xl mb-6 flex items-center">
                    <i class="fa fa-bar-chart mr-2"></i> 9æœˆå·¥æ—¶åˆ†å¸ƒå›¾è°±
                </h3>
                <div class="h-80 bg-void-black/50 rounded-lg p-4">
                    <canvas id="workHoursChart"></canvas>
                </div>
            </div>
        </section>

        <!-- å‘˜å·¥å·¥æ—¶è¡¨æ ¼ï¼ˆæ˜Ÿé™…ä»»åŠ¡æ—¥å¿—è¡¨æ ¼ï¼‰ -->
        <section class="mb-16 animate-on-scroll">
            <div class="bg-galaxy-dark rounded-xl overflow-hidden border border-space-blue/30">
                <div class="p-6 border-b border-space-blue/30 flex flex-col md:flex-row justify-between items-start md:items-center">
                    <div>
                        <h3 class="text-space-blue text-xl flex items-center">
                            <i class="fa fa-table mr-2"></i> æ˜Ÿé™…å‘˜å·¥å·¥æ—¶æ˜ç»†
                        </h3>
                        <p class="text-orbit-light mt-1">ç‚¹å‡»å‘˜å·¥ä»£å·æŸ¥çœ‹æ˜Ÿé™…è¯„ä»·æŠ¥å‘Š</p>
                    </div>
                    <div class="mt-4 md:mt-0 text-sm text-orbit-light">
                        <span class="flex items-center"><i class="fa fa-info-circle text-star-yellow mr-1"></i> æœ¬æœˆæ ‡å‡†å·¥æ—¶ï¼š176å°æ—¶</span>
                    </div>
                </div>
                
                <div class="overflow-x-auto">
                    <table class="w-full text-sm">
                        <thead>
                            <tr class="bg-void-black/60">
                                <th class="py-4 px-6 text-left text-star-yellow font-space">å‘˜å·¥ä»£å·</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">9æœˆ1-7æ—¥</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">9æœˆ8-14æ—¥</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">9æœˆ15-21æ—¥</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">9æœˆ22-28æ—¥</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">9æœˆ29-30æ—¥</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">æ€»å·¥æ—¶</th>
                                <th class="py-4 px-6 text-left text-star-yellow font-space">æ˜Ÿé™…çŠ¶æ€</th>
                            </tr>
                        </thead>
                        <tbody id="employeesTableBody">
                            <!-- åˆå§‹åŠ è½½çŠ¶æ€ -->
                            <tr>
                                <td colspan="8" class="py-8 text-center text-orbit-light">
                                    <div class="flex flex-col items-center">
                                        <div class="w-16 h-16 border-4 border-dashed border-space-blue/30 rounded-full animate-spin-planet mb-4"></div>
                                        åŠ è½½æ˜Ÿé™…å‘˜å·¥æ•°æ®ä¸­...
                                    </div>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>
    </main>

    <!-- é¡µè„š -->
    <footer class="bg-galaxy-dark border-t border-space-blue/30 py-6 relative z-10">
        <div class="container mx-auto px-4 text-center">
            <p class="text-orbit-light text-sm">
                æ˜Ÿé™…å·¥æ—¶æ—¥å¿—ç³»ç»Ÿ &copy; 2025 | æ˜Ÿé™…è”ç›Ÿè®¤è¯ç¼–å·: ST-2025-09
            </p>
            <p class="text-space-blue/70 text-xs mt-2">
                ç³»ç»Ÿæç¤ºï¼š9æœˆ28æ—¥ä¸ºè¡¥ç­æ—¥ï¼Œè¯·å„æ˜Ÿé™…å‘˜å·¥åšå¥½å‡†å¤‡
            </p>
        </div>
    </footer>

    <!-- å‘˜å·¥è¯¦æƒ…å¼¹çª—ï¼ˆæŒ‰å·¥æ—¶çŠ¶æ€åŠ è½½å¯¹åº”Rick and Mortyå›¾ç‰‡ï¼‰ -->
    <div id="employeeModal" class="fixed inset-0 z-50 hidden modal-backdrop">
        <div class="absolute inset-0 flex items-center justify-center p-4">
            <div class="bg-void-black border-2 border-space-blue rounded-xl max-w-3xl w-full max-h-[90vh] overflow-hidden animate-glow-ship">
                <div class="relative">
                    <!-- å¼¹çª—å›¾ç‰‡åŒºåŸŸï¼ˆæŒ‰å·¥æ—¶çŠ¶æ€åŠ è½½å¯¹åº”æœ¬åœ°å›¾ï¼‰ -->
                    <div class="h-64 md:h-80 bg-galaxy-dark">
                        <img id="modalImg" src="" alt="å‘˜å·¥è¯¦æƒ…å›¾" class="w-full h-full object-cover">
                    </div>
                    
                    <!-- å…³é—­æŒ‰é’® -->
                    <button id="closeModal" class="absolute top-4 right-4 w-10 h-10 rounded-full bg-void-black/80 flex items-center justify-center text-white hover:text-space-blue transition-colors z-10">
                        <i class="fa fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="p-6">
                    <h3 id="modalName" class="text-2xl font-space text-space-blue text-shadow-space mb-4"></h3>
                    <div class="flex items-center mb-6 flex-wrap gap-2">
                        <span id="modalTotal" class="px-4 py-2 rounded-full text-sm font-space"></span>
                        <span id="modalStatus" class="px-4 py-2 rounded-full text-sm font-medium"></span>
                    </div>
                    
                    <!-- å·¥æ—¶æ˜ç»† -->
                    <div class="mb-6">
                        <h4 class="text-star-yellow font-space mb-2">9æœˆå·¥æ—¶æ˜ç»†</h4>
                        <div class="grid grid-cols-2 md:grid-cols-5 gap-3 text-center">
                            <div class="bg-galaxy-dark p-2 rounded-lg">
                                <p class="text-xs text-orbit-light">9/1-7</p>
                                <p id="detail1" class="text-lg font-bold"></p>
                            </div>
                            <div class="bg-galaxy-dark p-2 rounded-lg">
                                <p class="text-xs text-orbit-light">9/8-14</p>
                                <p id="detail2" class="text-lg font-bold"></p>
                            </div>
                            <div class="bg-galaxy-dark p-2 rounded-lg">
                                <p class="text-xs text-orbit-light">9/15-21</p>
                                <p id="detail3" class="text-lg font-bold"></p>
                            </div>
                            <div class="bg-galaxy-dark p-2 rounded-lg">
                                <p class="text-xs text-orbit-light">9/22-28</p>
                                <p id="detail4" class="text-lg font-bold"></p>
                            </div>
                            <div class="bg-galaxy-dark p-2 rounded-lg">
                                <p class="text-xs text-orbit-light">9/29-30</p>
                                <p id="detail5" class="text-lg font-bold"></p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- æ˜Ÿé™…è¯„ä»· -->
                    <div>
                        <h4 class="text-star-yellow font-space mb-2">æ˜Ÿé™…è¯„ä»·</h4>
                        <p id="modalComment" class="text-orbit-light leading-relaxed"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 1. å‘˜å·¥å·¥æ—¶æ•°æ®ï¼ˆå«æµ‹è¯•æ•°æ®ï¼Œæ–¹ä¾¿éªŒè¯ä¸‰ç§å›¾ç‰‡æ•ˆæœï¼‰
        const employees = [
            { name: "ç½—å­çš“", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "åˆ˜å¿ƒå¥•", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ä½™é¢–", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "è£´æ–‡å", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "è‹æ·", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ç¥çš“é›¯", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é™ˆé”¶è•™", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ˜“æ¨å¹³", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é»ä½³ä¸½", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æé‡‘ç’‡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ›¾å­è£", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é’Ÿæ ‹ç«", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ¸¸ä¸½è", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é™ˆä½³é‘«", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "åºèŠå©·", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "è°¢ç’‡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ä½•æ±Ÿè", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "éƒ­å¤©è‰³", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å‘¨åŒ", hours: [8, 0, 0, 0, 0], total: 8 }, // å·¥æ—¶ä¸è¶³ï¼ˆæµ‹è¯•Rick-Morty-2.jpgï¼‰
            { name: "ç”°é™", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æç³", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å·«å°šè´¤", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "è‹è¯—ç”»", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "åˆåæ—­", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é™ˆæ´", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ¶‚é€¸", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ææ´æ€¡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æå‡¯ç›ˆ", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é«˜åˆ˜é¦™", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å‘¨å­æ¶µ", hours: [32, 0, 0, 0, 0], total: 32 }, // å·¥æ—¶ä¸è¶³ï¼ˆæµ‹è¯•Rick-Morty-2.jpgï¼‰
            { name: "åº·ç¯¡å¨‡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "åˆ˜æ¶›", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ä½•ä¸½é›…", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å°šå…´è¶Š", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ–½é“–é’°", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "è‹çª", hours: [32, 0, 0, 0, 0], total: 32 }, // å·¥æ—¶ä¸è¶³ï¼ˆæµ‹è¯•Rick-Morty-2.jpgï¼‰
            { name: "ç¼ªæœˆ", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "èƒ¡æ´›æ™¨", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ç½—ä½³å…°", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ç« äº‘ç‡•", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ–¹å«é›¨", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ç®€è¡Œå³°", hours: [24, 0, 0, 0, 0], total: 24 }, // å·¥æ—¶ä¸è¶³ï¼ˆæµ‹è¯•Rick-Morty-2.jpgï¼‰
            { name: "æŸ¯å‡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "èƒ¡æ°å©·", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å†¶æ€æ¨", hours: [0, 0, 0, 0, 0], total: 0 }, // å·¥æ—¶ä¸è¶³ï¼ˆæµ‹è¯•Rick-Morty-2.jpgï¼‰
            { name: "è‘£ä¸–æ°", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ç‹å¤©ç¾", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "å¼ æ ¹é¥", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é«˜æ¬£æ‚¦", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é¾™å»ºå®‡", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æ¨å·§å·§", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ä¸¥èŠ·æ¬£", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "ä»˜é”¦é¹¿", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "é¢œç‘œ", hours: [40, 0, 0, 0, 0], total: 40 },
            { name: "æµ‹è¯•è¶…é¢å‘˜å·¥", hours: [48, 48, 48, 48, 20], total: 212 }, // å·¥æ—¶è¶…é¢ï¼ˆæµ‹è¯•Rick-Morty-1.jpgï¼‰
            { name: "æµ‹è¯•è¾¾æ ‡å‘˜å·¥", hours: [36, 38, 38, 38, 26], total: 176 } // å·¥æ—¶æ­£å¸¸ï¼ˆæµ‹è¯•rick-and-morty3.jpgï¼‰
        ];

        // 2. DOMå…ƒç´ è·å–
        const tableBody = document.getElementById('employeesTableBody');
        const modal = document.getElementById('employeeModal');
        const modalImg = document.getElementById('modalImg');
        const modalName = document.getElementById('modalName');
        const modalTotal = document.getElementById('modalTotal');
        const modalStatus = document.getElementById('modalStatus');
        const modalComment = document.getElementById('modalComment');
        const detail1 = document.getElementById('detail1');
        const detail2 = document.getElementById('detail2');
        const detail3 = document.getElementById('detail3');
        const detail4 = document.getElementById('detail4');
        const detail5 = document.getElementById('detail5');
        const closeModal = document.getElementById('closeModal');
        const resetBtn = document.getElementById('resetBtn');
        const globalSearch = document.getElementById('globalSearch');
        const mobileSearch = document.getElementById('mobileSearch');
        const totalEmployeesEl = document.getElementById('totalEmployees');
        const è¾¾æ ‡å‘˜å·¥æ•°El = document.getElementById('è¾¾æ ‡å‘˜å·¥æ•°');
        const å¼‚å¸¸å‘˜å·¥æ•°El = document.getElementById('å¼‚å¸¸å‘˜å·¥æ•°');
        const chartEl = document.getElementById('workHoursChart');

        // 3. åˆå§‹åŒ–ç»Ÿè®¡æ•°æ®
        function initStats() {
            totalEmployeesEl.textContent = employees.length;
            const è¾¾æ ‡æ•° = employees.filter(emp => emp.total === 176).length;
            è¾¾æ ‡å‘˜å·¥æ•°El.textContent = è¾¾æ ‡æ•°;
            å¼‚å¸¸å‘˜å·¥æ•°El.textContent = employees.length - è¾¾æ ‡æ•°;
        }

        // 4. æ¸²æŸ“å‘˜å·¥è¡¨æ ¼
        function renderTable(empList = employees) {
            tableBody.innerHTML = '';
            if (empList.length === 0) {
                tableBody.innerHTML = `
                    <tr>
                        <td colspan="8" class="py-8 text-center text-orbit-light">
                            <div class="flex flex-col items-center">
                                <i class="fa fa-search-minus text-4xl text-star-yellow mb-4"></i>
                                æœªæ‰¾åˆ°åŒ¹é…çš„æ˜Ÿé™…å‘˜å·¥
                            </div>
                        </td>
                    </tr>
                `;
                return;
            }

            empList.forEach((emp, idx) => {
                const tr = document.createElement('tr');
                tr.className = idx % 2 === 0 ? 'bg-void-black/30' : 'bg-galaxy-dark/50';
                tr.classList.add('hover:bg-space-blue/10', 'transition-colors');

                // çŠ¶æ€æ ·å¼åˆ¤æ–­
                let statusCls = '';
                let statusText = '';
                if (emp.total < 176) {
                    statusCls = 'text-red-400 bg-red-900/20';
                    statusText = 'å·¥æ—¶ä¸è¶³';
                } else if (emp.total === 176) {
                    statusCls = 'text-nebula bg-purple-900/20';
                    statusText = 'å·¥æ—¶æ­£å¸¸';
                } else {
                    statusCls = 'text-star-yellow bg-yellow-900/20';
                    statusText = 'å·²è¶…é¢';
                }

                tr.innerHTML = `
                    <td class="py-4 px-6 font-medium">
                        <button class="emp-btn text-space-blue hover:text-nebula transition-colors flex items-center" 
                                data-name="${emp.name}" 
                                data-hours="${JSON.stringify(emp.hours)}" 
                                data-total="${emp.total}">
                            ${emp.name}
                            <i class="fa fa-arrow-right ml-2 text-xs"></i>
                        </button>
                    </td>
                    <td class="py-4 px-6 table-cell ${emp.hours[0] < 20 ? 'text-red-400' : emp.hours[0] > 40 ? 'text-star-yellow' : ''}">${emp.hours[0]}</td>
                    <td class="py-4 px-6 table-cell ${emp.hours[1] < 20 ? 'text-red-400' : emp.hours[1] > 40 ? 'text-star-yellow' : ''}">${emp.hours[1]}</td>
                    <td class="py-4 px-6 table-cell ${emp.hours[2] < 20 ? 'text-red-400' : emp.hours[2] > 40 ? 'text-star-yellow' : ''}">${emp.hours[2]}</td>
                    <td class="py-4 px-6 table-cell ${emp.hours[3] < 20 ? 'text-red-400' : emp.hours[3] > 40 ? 'text-star-yellow' : ''}">${emp.hours[3]}</td>
                    <td class="py-4 px-6 table-cell ${emp.hours[4] < 20 ? 'text-red-400' : emp.hours[4] > 40 ? 'text-star-yellow' : ''}">${emp.hours[4]}</td>
                    <td class="py-4 px-6 font-bold ${emp.total < 176 ? 'text-red-400' : emp.total > 176 ? 'text-star-yellow' : 'text-nebula'}">${emp.total}</td>
                    <td class="py-4 px-6">
                        <span class="px-3 py-1 rounded-full text-xs font-medium ${statusCls}">${statusText}</span>
                    </td>
                `;
                tableBody.appendChild(tr);
            });

            // ç»‘å®šå¼¹çª—è§¦å‘äº‹ä»¶
            document.querySelectorAll('.emp-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const name = btn.getAttribute('data-name');
                    const hours = JSON.parse(btn.getAttribute('data-hours'));
                    const total = parseInt(btn.getAttribute('data-total'));
                    showModal(name, hours, total);
                });
            });
        }

        // 5. æ ¸å¿ƒï¼šæŒ‰å·¥æ—¶çŠ¶æ€åŠ è½½å¯¹åº”å›¾ç‰‡
        // å·¥æ—¶ä¸è¶³ â†’ Rick-Morty-2.jpg
        // å·¥æ—¶æ­£å¸¸ â†’ rick-and-morty3.jpg
        // å·¥æ—¶è¶…é¢ â†’ Rick-Morty-1.jpg
        function showModal(name, hours, total) {
            // æ¸…ç©ºä¹‹å‰çš„æŠ–åŠ¨ç±»ï¼Œé¿å…é‡å¤è§¦å‘
            modalImg.classList.remove('shake-active');
            
            // å¼¹çª—åŸºç¡€ä¿¡æ¯
            modalName.textContent = name;
            detail1.textContent = hours[0];
            detail2.textContent = hours[1];
            detail3.textContent = hours[2];
            detail4.textContent = hours[3];
            detail5.textContent = hours[4];
            modalTotal.textContent = `æ€»å·¥æ—¶ï¼š${total}å°æ—¶`;

            // æŒ‰å·¥æ—¶çŠ¶æ€åˆ†æ”¯å¤„ç†ï¼ˆæ ¸å¿ƒä¿®æ”¹éƒ¨åˆ†ï¼‰
            if (total < 176) {
                // ğŸ‘‰ å·¥æ—¶ä¸è¶³ï¼šåŠ è½½æœ¬åœ°Rick-Morty-2.jpg + æŠ–åŠ¨
                modalTotal.className = 'px-4 py-2 rounded-full text-sm font-space bg-red-900/30 text-red-400';
                modalStatus.className = 'px-4 py-2 rounded-full text-sm font-medium bg-red-900/30 text-red-400';
                modalStatus.textContent = 'å·¥æ—¶ä¸è¶³';
                modalComment.textContent = `${name}ï¼Œä½ çš„9æœˆå·¥æ—¶æœªè¾¾æ ‡ï¼ˆå·®é¢${176 - total}å°æ—¶ï¼‰ï¼éœ€åœ¨10æœˆè¡¥ç­å®Œæˆï¼Œå¦åˆ™å°†è¢«åˆ†é…è‡³å°è¡Œæ˜Ÿé‡‡çŸ¿ä»»åŠ¡ã€‚`;
                
                // åŠ è½½æœ¬åœ°Rick-Morty-2.jpg
                modalImg.src = "Rick-Morty-2.jpg";
                modalImg.alt = `${name}ï¼ˆå·¥æ—¶ä¸è¶³ï¼‰- Rick and Mortyè­¦ç¤ºå›¾`;
                
                // å›¾ç‰‡åŠ è½½æˆåŠŸåè§¦å‘æŠ–åŠ¨
                modalImg.onload = function() {
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };
                
                // å›¾ç‰‡åŠ è½½å¤±è´¥ï¼šå¤‡ç”¨è­¦ç¤ºé£æ ¼å›¾ç‰‡ï¼ˆçº¢è‰²è°ƒï¼‰
                modalImg.onerror = function() {
                    this.src = "https://picsum.photos/id/1005/800/500"; // å¤‡ç”¨è­¦ç¤ºå›¾
                    this.alt = `${name}ï¼ˆå·¥æ—¶ä¸è¶³ï¼‰- å¤‡ç”¨è­¦ç¤ºå›¾`;
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };

            } else if (total === 176) {
                // ğŸ‘‰ å·¥æ—¶æ­£å¸¸ï¼šåŠ è½½æœ¬åœ°rick-and-morty3.jpg + è½»å¾®æŠ–åŠ¨
                modalTotal.className = 'px-4 py-2 rounded-full text-sm font-space bg-purple-900/20 text-nebula';
                modalStatus.className = 'px-4 py-2 rounded-full text-sm font-medium bg-purple-900/20 text-nebula';
                modalStatus.textContent = 'å·¥æ—¶æ­£å¸¸';
                modalComment.textContent = `${name}ï¼Œä½ çš„9æœˆå·¥æ—¶æ°å¥½è¾¾æ ‡ï¼ç¬¦åˆæ˜Ÿé™…å·¥ä½œæ ‡å‡†ï¼Œå¯æ­£å¸¸å‚ä¸10æœˆæ˜Ÿé™…æ¢ç´¢ä»»åŠ¡ã€‚`;
                
                // åŠ è½½æœ¬åœ°rick-and-morty3.jpg
                modalImg.src = "rick-and-morty3.jpg";
                modalImg.alt = `${name}ï¼ˆå·¥æ—¶æ­£å¸¸ï¼‰- Rick and Mortyæ ‡å‡†å›¾`;
                
                // å›¾ç‰‡åŠ è½½æˆåŠŸåè§¦å‘è½»å¾®æŠ–åŠ¨ï¼Œä¿æŒä¸€è‡´æ€§
                modalImg.onload = function() {
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };
                
                // å›¾ç‰‡åŠ è½½å¤±è´¥ï¼šå¤‡ç”¨æ ‡å‡†é£æ ¼å›¾ç‰‡ï¼ˆç´«è‰²è°ƒï¼‰
                modalImg.onerror = function() {
                    this.src = "https://picsum.photos/id/1035/800/500"; // å¤‡ç”¨æ ‡å‡†å›¾
                    this.alt = `${name}ï¼ˆå·¥æ—¶æ­£å¸¸ï¼‰- å¤‡ç”¨æ ‡å‡†å›¾`;
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };

            } else {
                // ğŸ‘‰ å·¥æ—¶è¶…é¢ï¼šåŠ è½½æœ¬åœ°Rick-Morty-1.jpg + æŠ–åŠ¨
                modalTotal.className = 'px-4 py-2 rounded-full text-sm font-space bg-yellow-900/20 text-star-yellow';
                modalStatus.className = 'px-4 py-2 rounded-full text-sm font-medium bg-yellow-900/20 text-star-yellow';
                modalStatus.textContent = 'å·²è¶…é¢';
                modalComment.textContent = `${name}ï¼Œä½ å¤ªæ£’äº†ï¼9æœˆå·¥æ—¶è¶…é¢${total - 176}å°æ—¶ï¼Œè·å¾—"æ˜Ÿé™…åŠ³æ¨¡"ç§°å·ï¼Œå¯å…‘æ¢3å¤©è°ƒä¼‘æˆ–æ˜Ÿé™…ç§¯åˆ†å¥–åŠ±ï¼`;
                
                // åŠ è½½æœ¬åœ°Rick-Morty-1.jpg
                modalImg.src = "Rick-Morty-1.jpg";
                modalImg.alt = `${name}ï¼ˆå·¥æ—¶è¶…é¢ï¼‰- Rick and Mortyåº†ç¥å›¾`;
                
                // å›¾ç‰‡åŠ è½½æˆåŠŸåè§¦å‘æŠ–åŠ¨
                modalImg.onload = function() {
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };
                
                // å›¾ç‰‡åŠ è½½å¤±è´¥ï¼šå¤‡ç”¨åº†ç¥é£æ ¼å›¾ç‰‡ï¼ˆé»„è‰²è°ƒï¼‰
                modalImg.onerror = function() {
                    this.src = "https://picsum.photos/id/1062/800/500"; // å¤‡ç”¨åº†ç¥å›¾
                    this.alt = `${name}ï¼ˆå·¥æ—¶è¶…é¢ï¼‰- å¤‡ç”¨åº†ç¥å›¾`;
                    setTimeout(() => modalImg.classList.add('shake-active'), 100);
                };
            }

            // æ˜¾ç¤ºå¼¹çª—
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        // 6. å…³é—­å¼¹çª—
        function closeModalFunc() {
            modal.classList.add('hidden');
            document.body.style.overflow = '';
        }

        // 7. æœç´¢åŠŸèƒ½
        function handleSearch(e) {
            const val = e.target.value.toLowerCase().trim();
            const filtered = employees.filter(emp => 
                emp.name.toLowerCase().includes(val) || 
                emp.total.toString().includes(val) || 
                emp.hours.some(h => h.toString().includes(val))
            );
            renderTable(filtered);
        }

        // 8. åˆå§‹åŒ–å·¥æ—¶å›¾è¡¨
        function initChart() {
            const under = employees.filter(emp => emp.total < 176).length;
            const normal = employees.filter(emp => emp.total === 176).length;
            const over = employees.filter(emp => emp.total > 176).length;

            new Chart(chartEl, {
                type: 'doughnut',
                data: {
                    labels: ['å·¥æ—¶ä¸è¶³', 'å·¥æ—¶æ­£å¸¸', 'å·²è¶…é¢'],
                    datasets: [{
                        data: [under, normal, over],
                        backgroundColor: [
                            'rgba(239, 68, 68, 0.7)',
                            'rgba(124, 58, 237, 0.7)',
                            'rgba(251, 191, 36, 0.7)'
                        ],
                        borderColor: [
                            'rgba(239, 68, 68, 1)',
                            'rgba(124, 58, 237, 1)',
                            'rgba(251, 191, 36, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#94A3B8',
                                font: { family: 'Orbitron', size: 12 },
                                padding: 20
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(30, 41, 59, 0.9)',
                            titleColor: '#1E40AF',
                            bodyColor: 'white',
                            borderColor: '#1E40AF',
                            borderWidth: 1,
                            padding: 12
                        }
                    },
                    animation: { animateScale: true, animateRotate: true, duration: 2000 }
                }
            });
        }

        // 9. æ»šåŠ¨åŠ¨ç”»
        function handleScroll() {
            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                const rect = el.getBoundingClientRect();
                if (rect.top < window.innerHeight * 0.85) {
                    el.classList.add('visible');
                }
            });
        }

        // 10. äº‹ä»¶ç»‘å®š
        closeModal.addEventListener('click', closeModalFunc);
        modal.addEventListener('click', (e) => e.target === modal && closeModalFunc());
        resetBtn.addEventListener('click', () => {
            globalSearch.value = '';
            mobileSearch.value = '';
            renderTable();
        });
        globalSearch.addEventListener('input', handleSearch);
        mobileSearch.addEventListener('input', handleSearch);
        window.addEventListener('scroll', handleScroll);

        // 11. é¡µé¢åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            initStats();
            renderTable();
            initChart();
            handleScroll();
        });
    </script>
</body>
</html>
